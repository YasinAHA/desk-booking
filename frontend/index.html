<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Desk Booking</title>
		<link rel="stylesheet" href="styles.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<div class="bg"></div>
		<div id="loadingOverlay" class="loading-overlay hidden" aria-live="polite">
			<div class="loading-card">
				<div class="spinner"></div>
				<p id="loadingText">Cargando...</p>
			</div>
		</div>
		<main class="app">
			<header class="header">
				<div>
					<h1>Desk Booking</h1>
					<p class="subtitle">Frontend mínimo para evolución v0.7.x</p>
				</div>
				<button id="logoutBtn" class="btn btn-ghost" disabled>Logout</button>
			</header>

			<section class="card" id="authSection">
				<h2>Auth</h2>
				<div class="tabs">
					<button id="tabLogin" class="tab active" type="button">Login</button>
					<button id="tabRegister" class="tab" type="button">Registro</button>
				</div>

				<form id="loginForm" class="form" data-panel="login">
					<label>
						Email
						<input type="email" id="emailInput" required placeholder="user@company.com" />
					</label>
					<label>
						Password
						<input type="password" id="passwordInput" required placeholder="******" />
					</label>
					<button type="submit" class="btn">Entrar</button>
				</form>

				<form id="registerForm" class="form hidden" data-panel="register">
					<label>
						Email
						<input type="email" id="registerEmail" required placeholder="user@company.com" />
					</label>
					<label>
						Nombre
						<input type="text" id="registerFirstName" required placeholder="Tu nombre" />
					</label>
					<label>
						Primer apellido
						<input type="text" id="registerLastName" required placeholder="Tu primer apellido" />
					</label>
					<label>
						Segundo apellido
						<input type="text" id="registerSecondLastName" placeholder="Tu segundo apellido" />
					</label>
					<label>
						Password
						<input
							type="password"
							id="registerPassword"
							required
							placeholder="Mín. 12 caracteres con mayús., dígito y carácter especial"
						/>
						<small id="passwordRequirements" class="password-requirements">
							<div>✗ Mínimo 12 caracteres</div>
							<div>✗ Al menos 1 mayúscula</div>
							<div>✗ Al menos 1 minúscula</div>
							<div>✗ Al menos 1 dígito</div>
							<div>✗ Al menos 1 carácter especial (!@#$%^&*-_+=)</div>
						</small>
					</label>
					<button type="submit" class="btn">Registrarse</button>
				</form>

				<hr />
				<h3>Recuperación de contraseña</h3>
				<div class="tabs tabs-secondary">
					<button id="tabForgot" class="tab active" type="button">Olvidé contraseña</button>
					<button id="tabReset" class="tab" type="button">Tengo token</button>
				</div>

				<form id="forgotPasswordForm" class="form" data-panel="forgot">
					<label>
						Email
						<input type="email" id="forgotEmailInput" required placeholder="user@company.com" />
					</label>
					<button type="submit" class="btn btn-ghost">Enviar enlace de recuperación</button>
				</form>

				<form id="resetPasswordForm" class="form hidden" data-panel="reset">
					<label id="resetTokenLabel">
						Token
						<input type="text" id="resetTokenInput" required placeholder="Token recibido por email" />
					</label>
					<button id="toggleManualTokenBtn" class="btn-link hidden" type="button">
						Introducir token manualmente
					</button>
					<label>
						Nueva contraseña
						<input type="password" id="resetPasswordInput" required placeholder="Nueva contraseña segura" />
					</label>
					<button type="submit" class="btn btn-ghost">Restablecer contraseña</button>
				</form>
			</section>

			<section class="card hidden" id="changePasswordSection">
				<h2>Seguridad de cuenta</h2>
				<form id="changePasswordForm" class="form">
					<label>
						Contraseña actual
						<input type="password" id="currentPasswordInput" required placeholder="Tu contraseña actual" />
					</label>
					<label>
						Nueva contraseña
						<input type="password" id="newPasswordInput" required placeholder="Nueva contraseña segura" />
					</label>
					<button type="submit" class="btn btn-ghost">Actualizar contraseña</button>
				</form>
			</section>

			<section class="card" id="controlsSection">
				<div class="controls">
					<label>
						Fecha
						<input type="date" id="dateInput" />
					</label>
					<button id="refreshBtn" class="btn btn-ghost">Refresh</button>
				</div>
				<div id="status" class="status"></div>
			</section>

			<section class="card">
				<h2>Desks</h2>
				<div id="desksGrid" class="grid"></div>
			</section>

			<section class="card">
				<h2>Mis reservas</h2>
				<ul id="reservationsList" class="list"></ul>
			</section>

			<section class="card hidden" id="adminSection">
	<h2>Admin QR</h2>
	<p class="subtitle">Gestión básica de QR por escritorio (listar, regenerar, imprimir).</p>
	<div class="admin-toolbar">
		<button id="regenerateAllQrBtn" class="btn btn-ghost" type="button">Regenerar QR de todos</button>
		<button id="printAllQrBtn" class="btn" type="button">Imprimir todos</button>
	</div>
	<div id="adminDesksGrid" class="admin-grid"></div>
</section>
		</main>

		<script type="module" src="src/app.js"></script>
	</body>
</html>



